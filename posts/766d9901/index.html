
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>Flood fillç®—æ³•åŠå…¶åº”ç”¨ | CombinatorX</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="æç‘">
    
    
    <meta name="keywords" content="Algorithm,Data structure,Flood fill algorithm,Breadth First Search,Depth First Search,Number of Islands,Surrounded Regions,Find Largest Value in Each Tree Row,å²›å±¿æ•°é‡,è¢«å›´ç»•çš„åŒºåŸŸ,åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼">
    
      <meta name="description" content="Flood fill æ˜¯ä»€ä¹ˆï¼Ÿç®—æ³•é‡Œè¿˜æœ‰æ´ªæ°´ï¼ŸğŸ˜„è¿™é‡Œå°±ä¸æ‰ä¹¦è¢‹äº†ï¼Œç›´æ¥æ¬wikipediaé“¾æ¥ Flood fillç®—æ³•æ˜¯ä»ä¸€ä¸ªåŒºåŸŸä¸­æå–è‹¥å¹²ä¸ªè¿é€šçš„ç‚¹ä¸å…¶ä»–ç›¸é‚»åŒºåŸŸåŒºåˆ†å¼€ï¼ˆæˆ–åˆ†åˆ«æŸ“æˆä¸åŒé¢œè‰²ï¼‰çš„ç»å…¸ç®—æ³•ã€‚å› ä¸ºå…¶æ€è·¯ç±»ä¼¼æ´ªæ°´ä»ä¸€ä¸ªåŒºåŸŸæ‰©æ•£åˆ°æ‰€æœ‰èƒ½åˆ°è¾¾çš„åŒºåŸŸè€Œå¾—åã€‚åœ¨GNU Goå’Œæ‰«é›·ä¸­ï¼ŒFlood Fillç®—æ³•è¢«ç”¨æ¥è®¡ç®—éœ€è¦è¢«æ¸…é™¤çš„åŒºåŸŸã€‚  å®é™…ä¸ŠFlood fill åœ¨fillçš„æ–¹å¼ä¸Šå¯é€‰DF">
<meta property="og:type" content="article">
<meta property="og:title" content="Flood fillç®—æ³•åŠå…¶åº”ç”¨">
<meta property="og:url" content="https://blogs.lirui.me/posts/766d9901/index.html">
<meta property="og:site_name" content="CombinatorX">
<meta property="og:description" content="Flood fill æ˜¯ä»€ä¹ˆï¼Ÿç®—æ³•é‡Œè¿˜æœ‰æ´ªæ°´ï¼ŸğŸ˜„è¿™é‡Œå°±ä¸æ‰ä¹¦è¢‹äº†ï¼Œç›´æ¥æ¬wikipediaé“¾æ¥ Flood fillç®—æ³•æ˜¯ä»ä¸€ä¸ªåŒºåŸŸä¸­æå–è‹¥å¹²ä¸ªè¿é€šçš„ç‚¹ä¸å…¶ä»–ç›¸é‚»åŒºåŸŸåŒºåˆ†å¼€ï¼ˆæˆ–åˆ†åˆ«æŸ“æˆä¸åŒé¢œè‰²ï¼‰çš„ç»å…¸ç®—æ³•ã€‚å› ä¸ºå…¶æ€è·¯ç±»ä¼¼æ´ªæ°´ä»ä¸€ä¸ªåŒºåŸŸæ‰©æ•£åˆ°æ‰€æœ‰èƒ½åˆ°è¾¾çš„åŒºåŸŸè€Œå¾—åã€‚åœ¨GNU Goå’Œæ‰«é›·ä¸­ï¼ŒFlood Fillç®—æ³•è¢«ç”¨æ¥è®¡ç®—éœ€è¦è¢«æ¸…é™¤çš„åŒºåŸŸã€‚  å®é™…ä¸ŠFlood fill åœ¨fillçš„æ–¹å¼ä¸Šå¯é€‰DF">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2017-05-09T09:15:51.000Z">
<meta property="article:modified_time" content="2020-02-04T07:16:27.758Z">
<meta property="article:author" content="æç‘">
<meta property="article:tag" content="ç®—æ³•,ç§»åŠ¨å¼€å‘,é¡¹ç›®ç®¡ç†,æœºå™¨å­¦ä¹ ,é¢è¯•,Algorithm,Data structure,mobile,Machine learning,TensorFlow,iOS,Android,interview,Java,Python,Linux,Mac,Web,Project Management,System design,Docker">
<meta name="twitter:card" content="summary">

    
    <link rel="alternative" href="/atom.xml" title="CombinatorX" type="application/atom+xml">
    
    <!--  -->

    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
      
<link rel="stylesheet" href="/css/style.css">


    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-96909480-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-96909480-1');
    </script>
    
    
<meta name="generator" content="Hexo 7.0.0"></head>

  <body>
    <header>
      
<div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="CombinatorX">CombinatorX</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="èœå•">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">é¦–é¡µ</a></li>
					
						<li><a href="/categories/Algorithm">ç®—æ³•æ•°æ®ç»“æ„</a></li>
					
						<li><a href="/categories/System-Design">ç³»ç»Ÿè®¾è®¡</a></li>
					
						<li><a href="/archives">å½’æ¡£</a></li>
					
						<li><a href="/about">å…³äº</a></li>
					
					<li>
 					
					<form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" autocomplete="off" name="q" maxlength="20" placeholder="æœç´¢" />
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/posts/766d9901/" title="Flood fillç®—æ³•åŠå…¶åº”ç”¨" itemprop="url">Flood fillç®—æ³•åŠå…¶åº”ç”¨</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="æç‘" target="_blank" itemprop="author">æç‘</a>
		
  <p class="article-time">
    <time datetime="2017-05-09T09:15:51.000Z" itemprop="datePublished"> å‘è¡¨äº 2017-05-09</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">æ–‡ç« ç›®å½•</strong>
		
			<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B2%9B%E7%9A%84%E6%95%B0%E9%87%8F"><span class="toc-number">1.</span> <span class="toc-text">å²›çš„æ•°é‡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%95%E9%99%8D%E7%9A%84%E5%8C%BA%E5%9F%9F"><span class="toc-number">2.</span> <span class="toc-text">æŠ•é™çš„åŒºåŸŸ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%BE%E5%87%BA%E4%BA%8C%E5%8F%89%E6%A0%91%E4%B8%AD%E6%AF%8F%E8%A1%8C%E7%9A%84%E6%9C%80%E5%A4%A7%E5%80%BC"><span class="toc-number">3.</span> <span class="toc-text">æ‰¾å‡ºäºŒå‰æ ‘ä¸­æ¯è¡Œçš„æœ€å¤§å€¼</span></a></li></ol>
		
		</div>
		
		<p>Flood fill æ˜¯ä»€ä¹ˆï¼Ÿ<br>ç®—æ³•é‡Œè¿˜æœ‰æ´ªæ°´ï¼ŸğŸ˜„è¿™é‡Œå°±ä¸æ‰ä¹¦è¢‹äº†ï¼Œç›´æ¥æ¬<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Flood_fill">wikipediaé“¾æ¥</a></p>
<pre><code>Flood fillç®—æ³•æ˜¯ä»ä¸€ä¸ªåŒºåŸŸä¸­æå–è‹¥å¹²ä¸ªè¿é€šçš„ç‚¹ä¸å…¶ä»–ç›¸é‚»åŒºåŸŸåŒºåˆ†å¼€ï¼ˆæˆ–åˆ†åˆ«æŸ“æˆä¸åŒé¢œè‰²ï¼‰çš„ç»å…¸ç®—æ³•ã€‚å› ä¸ºå…¶æ€è·¯ç±»ä¼¼æ´ªæ°´ä»ä¸€ä¸ªåŒºåŸŸæ‰©æ•£åˆ°æ‰€æœ‰èƒ½åˆ°è¾¾çš„åŒºåŸŸè€Œå¾—åã€‚åœ¨GNU Goå’Œæ‰«é›·ä¸­ï¼ŒFlood Fillç®—æ³•è¢«ç”¨æ¥è®¡ç®—éœ€è¦è¢«æ¸…é™¤çš„åŒºåŸŸã€‚
</code></pre>
<p>å®é™…ä¸ŠFlood fill åœ¨fillçš„æ–¹å¼ä¸Šå¯é€‰DFSå’ŒBFSï¼Œè¿™ä¹Ÿå†³å®šäº†æŸ“è‰²æˆ–è€…æ‰©æ•£çš„æ–¹å¼ã€‚äº‹å®ä¸Šåœ¨å¾ˆå¤šé“¾æ¥åŒºåŸŸé—®é¢˜ä¸Šéƒ½æœ‰ä¸åŒçš„å–èˆã€‚<br>è€è§„çŸ© â€œTalk is cheap, show me the code.â€<br>åŒæ ·çš„ï¼Œ ä¸‹é¢çš„é—®é¢˜éƒ½ä¼šç»™å‡ºä¸¤ç§è¯­è¨€(Java, Python)çš„å®ç°ã€‚</p>
<h2 id="å²›çš„æ•°é‡"><a href="#å²›çš„æ•°é‡" class="headerlink" title="å²›çš„æ•°é‡"></a>å²›çš„æ•°é‡</h2><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/number-of-islands/#/description">åŸé¢˜ä¼ é€é—¨</a></p>
<pre><code>Given a 2d grid map of &#39;1&#39;s (land) and &#39;0&#39;s (water), count the number of islands. An island is surrounded by water and is formed by connecting adjacent lands horizontally or vertically. You may assume all four edges of the grid are all surrounded by water.

Example 1:

11110
11010
11000
00000
Answer: 1

Example 2:

11000
11000
00100
00011
Answer: 3
</code></pre>
<p>è¿™ä¸ªé—®é¢˜æ˜¯flood fillç±»é—®é¢˜çš„ç»å…¸é—®é¢˜ä¹‹ä¸€ï¼Œ æ­£å¥½é€šè¿‡è¿™é“é¢˜æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹â€œæ´ªæ°´â€æ˜¯æ€æ ·ä¼ æ’­ä¸‹å»çš„ã€‚<br>è¨€å½’æ­£ä¼ ï¼Œæ‹¿åˆ°é—®é¢˜çš„ç¬¬ä¸€ä»¶äº‹æƒ…æ˜¯å®¡é¢˜ï¼Œå¯»æ‰¾æè¿°äºŒæ„çš„ç‚¹ï¼Œæ¯”å¦‚è¯´ï¼Œgridæ˜¯å¦å¯èƒ½ä¸ºç©ºï¼Ÿgridæ˜¯å¦ä¼šé€€åŒ–æˆä¸€ç»´æ•°ç»„ï¼Ÿä»¥åŠè¿™ä¸¤ç§æ¡ä»¶ä¸‹è¿”å›ä»€ä¹ˆï¼Ÿç­‰ç­‰ç±»ä¼¼çš„é—®é¢˜ã€‚  </p>
<p>æ¥ä¸‹æ¥å°±æ˜¯æ€è€ƒå¯èƒ½çš„è§£æ³•ï¼Œç›´è§‰ç®—æ³•å°±æ˜¯ï¼Œä»â€œå²›â€ï¼ˆâ€œOâ€ï¼‰å¼€å§‹éå†ï¼Œç„¶åæŒ‰ç…§DFSæˆ–è€…BFSçš„éå†æ–¹å¼éå†ç›¸é‚»â€œå²›â€ï¼ˆâ€œOâ€ï¼‰ï¼Œå¹¶ä¸”å°†éå†è¿‡çš„å²›æ ‡è®°ä¸ºâ€xâ€œï¼Œæ¯å®Œæˆä¸€å—çš„éå†ï¼Œè®¡æ•°å™¨åŠ ä¸€ã€‚ç®—æ³•çš„è‡ªç„¶è¯­è¨€æè¿°å°±æ˜¯è¿™æ ·ï¼Œä¸‹é¢å¼€å§‹åˆ†æç®—æ³•å¤æ‚åº¦ï¼š<br>æ—¶é—´å¤æ‚åº¦ï¼š ä¸ç®¡æ˜¯DFSè¿˜æ˜¯BFSéƒ½éœ€è¦éå†æ•´ä¸ªæ•°ç»„ï¼Œåªæ˜¯éå†æ–¹å¼ä¸åŒè€Œä»¥ï¼Œä½†æ˜¯å¤æ‚åº¦éƒ½æ˜¯$O(m * n)$ (m,n åˆ†åˆ«æ˜¯æ•°ç»„çš„è¡Œæ•°å’Œåˆ—æ•°)<br>ç©ºé—´å¤æ‚åº¦ï¼šç”±äºæ²¡æœ‰ç”¨åˆ°é¢å¤–çš„ç©ºé—´ï¼ˆauxilary spaceï¼‰å› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º$O(1)$</p>
<p>æš‚æ—¶æ²¡æœ‰å…¶ä»–çš„ç®—æ³•æ€è·¯äº†ï¼Œå¦‚æœDFSå’ŒBFSå±äºä¸¤ä¸ªç®—æ³•ï¼Œé‚£ä¹ˆç›®å‰çœ‹æ¥ï¼Œè¿™ä¸¤ä¸ªå°±æ˜¯æ¯”è¾ƒå¥½çš„è§£æ³•äº†ï¼Œé‚£æˆ‘ä»¬å°±ä»¥DFSä¸ºä¾‹å®ç°ç®—æ³•ï¼š<br>å…ˆæ˜¯Javaç‰ˆæœ¬</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] dx = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>&#125;;</span><br><span class="line">    <span class="type">int</span>[] dy = &#123;<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numIslands</span><span class="params">(<span class="type">char</span>[][] grid)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (grid == <span class="literal">null</span> || grid.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">numberOfLands</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[i][j] == <span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">                     _dfs(grid, i, j, m, n);</span><br><span class="line">                    numberOfLands ++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> numberOfLands;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">_dfs</span><span class="params">(<span class="type">char</span>[][] grid, <span class="type">int</span> i, <span class="type">int</span> j, <span class="type">int</span> maxRow, <span class="type">int</span> maxCol)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &gt;= <span class="number">0</span> &amp;&amp; i &lt; maxRow &amp;&amp; j &gt;= <span class="number">0</span> &amp;&amp; j &lt; maxCol &amp;&amp; grid[i][j] == <span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">            grid[i][j] = <span class="string">&#x27;m&#x27;</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; <span class="number">4</span>; k++) &#123;</span><br><span class="line">                _dfs(grid, i+dx[k], j+dy[k], maxRow, maxCol);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç±»ä¼¼çš„æœ‰Pythonç‰ˆæœ¬ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">numIslands</span>(<span class="params">self, grid</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type grid: List[List[str]]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Given a 2d grid map of &#x27;1&#x27;s (land) and &#x27;0&#x27;s (water),</span></span><br><span class="line"><span class="string">        count the number of islands.</span></span><br><span class="line"><span class="string">        An island is surrounded by water and is formed by connecting adjacent lands horizontally or vertically.</span></span><br><span class="line"><span class="string">         You may assume all four edges of the grid are all surrounded by water.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> grid <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">or</span> <span class="built_in">len</span>(grid) == <span class="number">0</span>:<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        m, n = <span class="built_in">len</span>(grid), <span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">        result = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                <span class="keyword">if</span> grid[i][j] == <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">                    self._dfs(grid, i, j, m, n)</span><br><span class="line">                    result += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_dfs</span>(<span class="params">self, grid, i, j, m, n</span>):</span><br><span class="line">        dx = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>]</span><br><span class="line">        dy = [<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">        <span class="keyword">if</span> <span class="number">0</span> &lt;= i &lt; m <span class="keyword">and</span> <span class="number">0</span> &lt;= j &lt; n <span class="keyword">and</span> grid[i][j] == <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">            grid[i][j] = <span class="string">&#x27;0&#x27;</span></span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">                self._dfs(grid, i + dx[k], j + dy[k], m, n)</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å®Œæˆäº†ä¹ˆï¼Ÿå¥½åƒå“ªé‡Œæœ‰äº›ä¸å¯¹ã€‚å¯¹çš„ï¼Œç›¸ä¿¡ä½ ä¹Ÿå‘ç°äº†ï¼Œå°±æ˜¯æˆ‘ä»¬å°†å¤–é¢ä¼ è¿›æ¥çš„æ•°ç»„ç»™ä¿®æ”¹äº†ï¼Œå¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™æ˜¯ä¸å¥½çš„è¡Œä¸ºï¼Œå½“ç„¶å¥½ä¸å¥½å–å†³äºè¿™ä¸ªæ¥å£ä½¿ç”¨è€…çš„å®šä¹‰ï¼Œå¦‚æœåç»­è¿˜è¦ç”¨åˆ°è¿™ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆåœ¨å†…éƒ¨ä¿®æ”¹åŸæ¥çš„è¡Œä¸ºå°±ä¸å¥½äº†ï¼Œå¦‚æœæ˜¯è¿™ç§æƒ…å†µï¼Œæ€ä¹ˆåŠï¼Ÿ<br>å…¶å®æœ‰ä¸¤ç§é€‰æ‹©ï¼Œä¸€ç§å¯¹äºåŸæ¥é—®é¢˜çš„ä¿®æ”¹æˆæœ¬ä½ï¼Œå‡ ä¹ä¸ä¿®æ”¹åŸæ¥ç®—æ³•çš„ä¸»è¦é€»è¾‘ï¼›è€Œå¦ä¸€ç§åˆ™ç›¸å¯¹å‰ä¸€ç§éº»çƒ¦äº›ã€‚ä¸‹é¢æˆ‘ä»¬ä¸€ä¸€è¯´æ˜ï¼š  </p>
<ul>
<li>ç¬¬ä¸€ç§æ–¹æ¡ˆçš„æ€æƒ³æ˜¯ï¼Œä¸æ˜¯ä¸è®©ä¿®æ”¹ä¹ˆï¼Ÿé‚£ä¹ˆæˆ‘ä¿®æ”¹åæ¢å¤ç°åœºä¸å°±è¡Œäº†ï¼Ÿ<br>ä»¥pythonä¸ºä¾‹ï¼š  </li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">numIslands</span>(<span class="params">self, grid</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type grid: List[List[str]]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Given a 2d grid map of &#x27;1&#x27;s (land) and &#x27;0&#x27;s (water),</span></span><br><span class="line"><span class="string">        count the number of islands.</span></span><br><span class="line"><span class="string">        An island is surrounded by water and is formed by connecting adjacent lands horizontally or vertically.</span></span><br><span class="line"><span class="string">         You may assume all four edges of the grid are all surrounded by water.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> grid <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">or</span> <span class="built_in">len</span>(grid) == <span class="number">0</span>:<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        m, n = <span class="built_in">len</span>(grid), <span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">        result = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                <span class="keyword">if</span> grid[i][j] == <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">                    self._dfs(grid, i, j, m, n)</span><br><span class="line">                    result += <span class="number">1</span></span><br><span class="line">        <span class="comment"># recover the scene</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                <span class="keyword">if</span> grid[i][j] == <span class="string">&#x27;m&#x27;</span>:</span><br><span class="line">                    grid[i][j] = <span class="string">&#x27;1&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_dfs</span>(<span class="params">self, grid, i, j, m, n</span>):</span><br><span class="line">        dx = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>]</span><br><span class="line">        dy = [<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">        <span class="keyword">if</span> <span class="number">0</span> &lt;= i &lt; m <span class="keyword">and</span> <span class="number">0</span> &lt;= j &lt; n <span class="keyword">and</span> grid[i][j] == <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">            grid[i][j] = <span class="string">&#x27;m&#x27;</span></span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">                self._dfs(grid, i + dx[k], j + dy[k], m, n)</span><br></pre></td></tr></table></figure>

<ul>
<li>ç¬¬äºŒç§æƒ³æ³•å°±æ˜¯ä½¿ç”¨é¢å¤–çš„ç©ºé—´æ¥è®°å½•å²›æ˜¯å¦è®¿é—®è¿‡ã€‚è¿™æ ·çš„è¯ä¼šä½¿ç”¨é¢å¤–çš„ç©ºé—´ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦å°±å˜æˆäº†$O(m * n)$, å½“ç„¶è¿™ä¹Ÿæ˜¯æœ‰é€‚ç”¨åœºæ™¯çš„ï¼Œå¦‚æœä¼ å…¥çš„å‚æ•°è¢«è®¾è®¡ä¸ºç¦æ­¢ä¿®æ”¹ï¼Œå³ä½¿æ˜¯æ¢å¤ç°åœºä¹Ÿä¸è¡Œçš„æ—¶å€™ï¼Œè¿™ä¸ªç®—æ³•ä¹Ÿæ˜¯æœ‰æ•ˆçš„ã€‚  </li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">numIslands</span>(<span class="params">self, grid</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type grid: List[List[str]]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Given a 2d grid map of &#x27;1&#x27;s (land) and &#x27;0&#x27;s (water),</span></span><br><span class="line"><span class="string">        count the number of islands.</span></span><br><span class="line"><span class="string">        An island is surrounded by water and is formed by connecting adjacent lands horizontally or vertically.</span></span><br><span class="line"><span class="string">         You may assume all four edges of the grid are all surrounded by water.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> grid <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">or</span> <span class="built_in">len</span>(grid) == <span class="number">0</span>:<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        m, n = <span class="built_in">len</span>(grid), <span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">        visited, result = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n)] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(m)], <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                <span class="keyword">if</span> grid[i][j] == <span class="string">&#x27;1&#x27;</span> <span class="keyword">and</span> visited[i][j] == <span class="number">0</span>:</span><br><span class="line">                    self._dfs(grid, visited, i, j, m, n)</span><br><span class="line">                    result += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_dfs</span>(<span class="params">self, grid, visited, i, j, m, n</span>):</span><br><span class="line">        dx = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>]</span><br><span class="line">        dy = [<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">        <span class="keyword">if</span> <span class="number">0</span> &lt;= i &lt; m <span class="keyword">and</span> <span class="number">0</span> &lt;= j &lt; n <span class="keyword">and</span> grid[i][j] == <span class="string">&#x27;1&#x27;</span> <span class="keyword">and</span> visited[i][j] == <span class="number">0</span>:</span><br><span class="line">            visited[i][j] = <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">                self._dfs(grid, visited, i + dx[k], j + dy[k], m, n)</span><br></pre></td></tr></table></figure>

<p>ä»”ç»†æƒ³æƒ³å¥½åƒè¿˜æœ‰äº›é—®é¢˜ï¼Œæ¯”å¦‚è¯´ï¼š  </p>
<ul>
<li>visited çš„æ•°ç»„ç©ºé—´æ˜¯ä¸æ˜¯å¤ªå¤§äº†ï¼Œå¥½åƒå¾ˆå¤šç©ºé—´éƒ½æ²¡æœ‰ç”¨åˆ°ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥ä¼˜åŒ–ã€‚  </li>
<li>æ—¢ç„¶BFSå’ŒDFSä¸€æ ·ï¼Œé‚£ä¹ˆBFSæ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥å®ç°ä¸€ä¸‹å‘¢ï¼Ÿ  </li>
</ul>
<h2 id="æŠ•é™çš„åŒºåŸŸ"><a href="#æŠ•é™çš„åŒºåŸŸ" class="headerlink" title="æŠ•é™çš„åŒºåŸŸ"></a>æŠ•é™çš„åŒºåŸŸ</h2><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/surrounded-regions/#/description">åŸé¢˜ä¼ è¾“é—¨</a></p>
<pre><code>Given a 2D board containing &#39;X&#39; and &#39;O&#39; (the letter O), capture all regions surrounded by &#39;X&#39;.

A region is captured by flipping all &#39;O&#39;s into &#39;X&#39;s in that surrounded region.

For example,
X X X X
X O O X
X X O X
X O X X
After running your function, the board should be:

X X X X
X X X X
X X X X
X O X X
</code></pre>
<p>æœ‰äº†ä¸Šä¸€é¢˜çš„åŸºç¡€ï¼Œè¿™é“é¢˜æ˜¯ä¸æ˜¯å°±ä¸é‚£ä¹ˆéš¾äº†å‘¢ï¼Ÿ<br>æˆ‘ä»¬ç›´å¥”ä¸»é¢˜ï¼Œ<br>ç¬¬ä¸€æ­¥è¿˜æ˜¯å®¡é¢˜ï¼Œå‚æ•°ä¸ºç©ºï¼Œé•¿åº¦ä¸ºé›¶ï¼Œç­‰ç­‰ã€‚<br>è¿™é‡Œé¢˜æ„æ¸…æ¥šï¼Œæ²¡ä»€ä¹ˆè¿‡å¤šè§£é‡Šçš„ã€‚<br>ç¬¬äºŒæ­¥åˆ—å‡ºæ‰€æœ‰å¯èƒ½çš„è§£å†³æ–¹æ¡ˆã€‚è¿™é‡Œå¦‚æœæ˜¯ç›´æ¥æ‰¾å‡ºæŠ•é™åŒºåŸŸä¼¼ä¹è¿˜æ˜¯æœ‰äº›éš¾åº¦çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å»çœ‹å®ƒçš„å¦ä¸€é¢ï¼Œæ‰¾å‡ºæ²¡æœ‰å››å‘¨è¢«åŒ…å›´çš„åŒºåŸŸï¼Œé‚£ä¹ˆå‰©ä¸‹çš„æ²¡æœ‰è¢«å é¢†çš„åŒºåŸŸä¸å°±æ˜¯æ‰¾åˆ°äº†ä¹ˆï¼Ÿç„¶åå°†è¿™éƒ¨åˆ†â€œæŠ•é™åŒºåŸŸâ€å…¨éƒ¨æ ‡è®°ä¸ºå é¢†å°±å¯ä»¥äº†ã€‚ä¸‹é¢æ¥åˆ†æç®—æ³•å¤æ‚åº¦ï¼š æ—¶é—´å¤æ‚åº¦ï¼šç”±äºéœ€è¦DFSæˆ–è€…BFSé‚£ä¹ˆå°±éœ€è¦éå†äºŒç»´æ•°ç»„å› æ­¤å¤æ‚åº¦ä¸º$O(m * n)$  å…¶æ¬¡ç©ºé—´å¤æ‚åº¦ï¼šç”±äºçŸ©é˜µæ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åšåˆ°inplaceçš„ä¿®æ”¹ï¼Œç©ºé—´å¤æ‚åº¦ä¸º$O(1)$<br>ç¬¬ä¸‰æ­¥å®ç°å¹¶ä¼˜åŒ–ä»£ç ã€‚<br>è€è§„çŸ©Javaå…ˆæ¥ï¼š  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javafx.util.Pair;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] dx = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>&#125;;</span><br><span class="line">    <span class="type">int</span>[] dy = &#123;<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">(<span class="type">char</span>[][] board)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (board == <span class="literal">null</span> || board.length == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> board.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> board[<span class="number">0</span>].length;</span><br><span class="line">        Queue&lt;Pair&lt;Integer, Integer&gt;&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        HashSet&lt;Pair&lt;Integer, Integer&gt;&gt; visited = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;Pair&lt;Integer, Integer&gt;&gt;();</span><br><span class="line">        <span class="comment">// find the edge not surrounded elements.</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> ((i == <span class="number">0</span> || i == m - <span class="number">1</span> || j == <span class="number">0</span> || j == n - <span class="number">1</span>) &amp;&amp; board[i][j] == <span class="string">&#x27;O&#x27;</span>) &#123;</span><br><span class="line">                    queue.offer(<span class="keyword">new</span> <span class="title class_">Pair</span>&lt;Integer, Integer&gt;(i, j));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            Pair&lt;Integer, Integer&gt; position = queue.poll();</span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> position.getKey();</span><br><span class="line">            <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> position.getValue();</span><br><span class="line">            <span class="keyword">if</span> (x &gt;= <span class="number">0</span> &amp;&amp; x &lt; m  &amp;&amp; y &gt;= <span class="number">0</span> &amp;&amp; y &lt; n &amp;&amp;</span><br><span class="line">                board[x][y] == <span class="string">&#x27;O&#x27;</span> &amp;&amp; !visited.contains(position)) &#123;</span><br><span class="line">                board[x][y] = <span class="string">&#x27;m&#x27;</span>;</span><br><span class="line">                visited.add(position);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; <span class="number">4</span>; k++) &#123;</span><br><span class="line">                    queue.offer(<span class="keyword">new</span> <span class="title class_">Pair</span>&lt;Integer, Integer&gt;(x + dx[k], y + dy[k]));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">             <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                 <span class="keyword">if</span> (board[i][j] == <span class="string">&#x27;O&#x27;</span>) &#123;</span><br><span class="line">                     board[i][j] = <span class="string">&#x27;X&#x27;</span>;</span><br><span class="line">                 &#125; <span class="keyword">else</span> <span class="keyword">if</span> (board[i][j] == <span class="string">&#x27;m&#x27;</span>) &#123;</span><br><span class="line">                     board[i][j] = <span class="string">&#x27;O&#x27;</span>;</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ç€æ˜¯Pythonï¼š  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line">dx = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>]</span><br><span class="line">dy = [<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">solve</span>(<span class="params">self, board</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type board: List[List[str]]</span></span><br><span class="line"><span class="string">        :rtype: void Do not return anything, modify board in-place instead.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(board) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        m, n = <span class="built_in">len</span>(board), <span class="built_in">len</span>(board[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> m &lt;= <span class="number">2</span> <span class="keyword">or</span> n &lt;= <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        queue = deque()</span><br><span class="line">        visited = <span class="built_in">set</span>()</span><br><span class="line">        <span class="comment"># queue.append([0, 0])</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                <span class="keyword">if</span> (i <span class="keyword">in</span> [<span class="number">0</span>, m - <span class="number">1</span>] <span class="keyword">or</span> j <span class="keyword">in</span> [<span class="number">0</span>, n - <span class="number">1</span>]) <span class="keyword">and</span> board[i][j] == <span class="string">&#x27;O&#x27;</span>:</span><br><span class="line">                    queue.append((i, j))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> queue:</span><br><span class="line">            position = queue.popleft()</span><br><span class="line">            visited.add(position)</span><br><span class="line">            <span class="comment"># do something</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> <span class="number">0</span> &lt;= position[<span class="number">0</span>] &lt; m <span class="keyword">and</span> <span class="number">0</span> &lt;= position[<span class="number">1</span>] &lt; n <span class="keyword">and</span> board[position[<span class="number">0</span>]][position[<span class="number">1</span>]] == <span class="string">&#x27;O&#x27;</span>:</span><br><span class="line">                board[position[<span class="number">0</span>]][position[<span class="number">1</span>]] = <span class="string">&#x27;m&#x27;</span></span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">                    p = (position[<span class="number">0</span>] + dx[i], position[<span class="number">1</span>] + dy[i])</span><br><span class="line">                    queue.append(p)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># loop the board and mark the none-surrounded area, and mark back &#x27;m&#x27; area</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                <span class="keyword">if</span> board[i][j] == <span class="string">&#x27;O&#x27;</span>:</span><br><span class="line">                    board[i][j] = <span class="string">&#x27;X&#x27;</span></span><br><span class="line">                <span class="keyword">elif</span> board[i][j] == <span class="string">&#x27;m&#x27;</span>:</span><br><span class="line">                    board[i][j] = <span class="string">&#x27;O&#x27;</span></span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯ä½¿ç”¨BFSéå†æ–¹å¼çš„è§£æ³•ï¼ŒDFSå‘¢ï¼Ÿå¯ä»¥å®ç°ä¹ˆï¼Ÿ<br>ä¸Šé¢çš„é—®é¢˜éƒ½æ˜¯Flood fillçš„å…¸å‹é—®é¢˜ï¼Œä¸‹é¢æ¥ç‚¹ç®€å•çš„ã€‚</p>
<h2 id="æ‰¾å‡ºäºŒå‰æ ‘ä¸­æ¯è¡Œçš„æœ€å¤§å€¼"><a href="#æ‰¾å‡ºäºŒå‰æ ‘ä¸­æ¯è¡Œçš„æœ€å¤§å€¼" class="headerlink" title="æ‰¾å‡ºäºŒå‰æ ‘ä¸­æ¯è¡Œçš„æœ€å¤§å€¼"></a>æ‰¾å‡ºäºŒå‰æ ‘ä¸­æ¯è¡Œçš„æœ€å¤§å€¼</h2><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/find-largest-value-in-each-tree-row/#/description">åŸé¢˜ä¼ é€é—¨</a></p>
<pre><code>You need to find the largest value in each row of a binary tree.

Example:
Input:

      1
     / \
    3   2
   / \   \  
  5   3   9

Output: [1, 3, 9]
</code></pre>
<p>è§£é¢˜ç¬¬ä¸€æ­¥ï¼Œå…ˆå®¡é¢˜ï¼Œåˆ¤ç©ºï¼Œç­‰ç­‰æœ‰äºŒæ„çš„éƒ¨åˆ†ã€‚æœ¬é¢˜æ¯”è¾ƒæ¸©æš–çº¯è‰¯ï¼Œæ²¡æœ‰ä»€ä¹ˆå¤§å‘ã€‚æ‰€ä»¥å¯ä»¥é€‰æ‹©æ€§ç•¥è¿‡ã€‚<br>ç¬¬äºŒæ­¥åˆ—å‡ºæ‰€æœ‰å¯èƒ½çš„è§£å†³æ–¹æ¡ˆï¼š<br>ç›´è§‰ç®—æ³•æ˜¯BFSéå†æ•´ä¸ªäºŒå‰æ ‘ï¼Œç„¶ååœ¨éå†æ¯å±‚çš„è¿‡ç¨‹ä¸­æ‰¾å‡ºæœ€å¤§çš„å€¼ã€‚è¿™é‡Œçš„ç®—æ³•å¤æ‚åº¦ï¼š æ—¶é—´å¤æ‚åº¦$O(n)$, ç©ºé—´å¤æ‚åº¦$O(1)$<br>DFSéå†å¯ä»¥ä¹ˆï¼Ÿåº”è¯¥ä¹Ÿå¯ä»¥ï¼Œåªæ˜¯éœ€è¦éå†çš„åŒæ—¶è®°å½•éå†åˆ°é‚£ä¸€å±‚ï¼Œæ—¶é—´å’Œç©ºé—´çš„å¤æ‚åº¦åŒBFSä¸€è‡´ã€‚<br>ç¬¬ä¸‰æ­¥å®ç°å¹¶ä¼˜åŒ–ä»£ç ï¼š<br>è€è§„çŸ©Javaä½ ç‰›ä½ å…ˆæ¥ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">largestValues</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> result;</span><br><span class="line"></span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;TreeNode&gt;();</span><br><span class="line">        queue.offer(root);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">queueSize</span> <span class="operator">=</span> queue.size();</span><br><span class="line">            <span class="type">int</span> <span class="variable">levelMaxValue</span> <span class="operator">=</span> Integer.MIN_VALUE;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; queueSize; i++) &#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">                levelMaxValue = Math.max(levelMaxValue, node.val);</span><br><span class="line">                <span class="keyword">if</span> (node.left != <span class="literal">null</span>) queue.offer(node.left);</span><br><span class="line">                <span class="keyword">if</span> (node.right != <span class="literal">null</span>) queue.offer(node.right);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            result.add(levelMaxValue);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ç€æ˜¯Python</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"># class TreeNode(object):</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.left = None</span></span><br><span class="line"><span class="comment">#         self.right = None</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">largestValues</span>(<span class="params">self, root</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :rtype: List[int]</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> root <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        result = []</span><br><span class="line">        queue = deque()</span><br><span class="line">        visited = <span class="built_in">set</span>()</span><br><span class="line">        queue.append(root)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> queue:</span><br><span class="line">            queue_size = <span class="built_in">len</span>(queue)</span><br><span class="line">            level_max_value = -sys.maxsize</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(queue_size):</span><br><span class="line">                node = queue.popleft()</span><br><span class="line">                visited.add(node)</span><br><span class="line">                level_max_value = <span class="built_in">max</span>(level_max_value, node.val)</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> node.left <span class="keyword">and</span> node.left <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                    queue.append(node.left)</span><br><span class="line">                <span class="keyword">if</span> node.right <span class="keyword">and</span> node.right <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                    queue.append(node.right)</span><br><span class="line">            result.append(level_max_value)</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå¯¹æ¯”æ ‡å‡†çš„BFSä¼šå‘ç°å½¢å¼åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯åœ¨whileå¾ªç¯ä½“å†…æ˜¾å¼çš„åŠ å…¥æŒ‰å±‚éå†çš„forå¾ªç¯ï¼Œè¿™æ˜¯ç”±é¢˜ç›®çš„è¦æ±‚å†³å®šçš„ã€‚å¥½å§ï¼Œé—®é¢˜åˆ°è¿™é‡Œä¼¼ä¹æœ‰äº†å¥½çš„è§£å†³ï¼Œå›è¿‡å¤´æ¥æƒ³æƒ³DFSæ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥å®ç°ä¸€ä¸‹å‘¢ï¼Ÿè¿™é‡Œå…ˆæŒ–ä¸ªå‘ï¼Œå„ä½æœ‰å…´è¶£çš„å¯ä»¥é€‰æ‹©æ€§å¡«ä¸‹ã€‚</p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Algorithm/">Algorithm</a>
</div>


</div>



	<div class="article-share" id="share">
	
	  <div data-url="https://blogs.lirui.me/posts/766d9901/" data-title="Flood fillç®—æ³•åŠå…¶åº”ç”¨ | CombinatorX" data-tsina="" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/posts/d8211bcf/" title="ä¹Ÿè°ˆç§»åŠ¨ç«¯ï¼ˆiOSã€Androidï¼‰å†…å­˜ç®¡ç†">
  <strong>ä¸Šä¸€ç¯‡ï¼š</strong><br/>
  <span>
  ä¹Ÿè°ˆç§»åŠ¨ç«¯ï¼ˆiOSã€Androidï¼‰å†…å­˜ç®¡ç†</span>
</a>
</div>


<div class="next">
<a href="/posts/f4573ea8/"  title="åœ¨Macä¸Šå®‰è£…TensorFlow">
 <strong>ä¸‹ä¸€ç¯‡ï¼š</strong><br/> 
 <span>åœ¨Macä¸Šå®‰è£…TensorFlow
</span>
</a>
</div>

</nav>

	

<section id="comments" class="comment">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="æ˜¾ç¤ºä¾§è¾¹æ "></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">æ–‡ç« ç›®å½•</strong>
 
 <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B2%9B%E7%9A%84%E6%95%B0%E9%87%8F"><span class="toc-number">1.</span> <span class="toc-text">å²›çš„æ•°é‡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%95%E9%99%8D%E7%9A%84%E5%8C%BA%E5%9F%9F"><span class="toc-number">2.</span> <span class="toc-text">æŠ•é™çš„åŒºåŸŸ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%BE%E5%87%BA%E4%BA%8C%E5%8F%89%E6%A0%91%E4%B8%AD%E6%AF%8F%E8%A1%8C%E7%9A%84%E6%9C%80%E5%A4%A7%E5%80%BC"><span class="toc-number">3.</span> <span class="toc-text">æ‰¾å‡ºäºŒå‰æ ‘ä¸­æ¯è¡Œçš„æœ€å¤§å€¼</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="éšè—ä¾§è¾¹æ "></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">åˆ†ç±»</p>
		<ul>
		
		  
			<li><a href="/categories/Algorithm/" title="Algorithm">Algorithm<sup>16</sup></a></li>
		  
		
		  
			<li><a href="/categories/Cloud-Native/" title="Cloud Native">Cloud Native<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Efficiency/" title="Efficiency">Efficiency<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/Machine-Learning/" title="Machine Learning">Machine Learning<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Management/" title="Management">Management<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Network/" title="Network">Network<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/Operations/" title="Operations">Operations<sup>15</sup></a></li>
		  
		
		  
			<li><a href="/categories/Programming-Languages/" title="Programming Languages">Programming Languages<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/Reading-Notes/" title="Reading Notes">Reading Notes<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/System-Design/" title="System Design">System Design<sup>8</sup></a></li>
		  
		
		</ul>
</div>


  

  <div class="linkslist">
  <p class="asidetitle">å‹æƒ…é“¾æ¥</p>
    <ul>
        
          <li>
            
            	<a href="https://coolshell.cn/" target="_blank" title="é…·å£³">é…·å£³</a>
            
          </li>
        
          <li>
            
            	<a href="https://blog.cleancoder.com/" target="_blank" title="The Clean Code Blog">The Clean Code Blog</a>
            
          </li>
        
          <li>
            
            	<a href="https://blog.youxu.info/" target="_blank" title="4G Spaces(å¾å®¥)">4G Spaces(å¾å®¥)</a>
            
          </li>
        
    </ul>
</div>

  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS è®¢é˜…</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		
				<div class="cc-license">
          <a href="http://creativecommons.org/licenses/by-nc/4.0" class="cc-opacity" target="_blank">
            <img src="/img/cc-by-nc.svg" alt="Creative Commons" />
          </a>
        </div>
    

		<p class="copyright">
		<!-- Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> -->
		Â© 2024
		
		<a href="/about" target="_blank" title="æç‘">æç‘</a>
		
		<!-- and <a target="_blank" rel="noopener" href="https://pages.github.com" style="font-weight: bold">GitHub</a> -->
		</p>
		<p class="copyright">
			Hosted by <a target="_blank" rel="noopener" href="https://pages.coding.me" style="font-weight: bold">Coding Pages</a>
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="å¾®ä¿¡"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="äººäºº"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="å¾®åš"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>




<script type="text/javascript">

var disqus_shortname = 'nutshellfool';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>






<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->
<!-- 
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-96909480-1', 'blogs.lirui.me');  
ga('send', 'pageview');
</script>

 -->




<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="è¿”å›é¡¶éƒ¨"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>

